(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){e.exports=n("XLWC")},XLWC:function(e,t,n){"use strict";function o(e){return`url("data:image/svg+xml;base64,${window.btoa(e)}")`}n.r(t);const r=window.navigator.userAgent.includes("Windows")?'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="#fff" fill-opacity=".506" d="M0 0h.5v.5H0z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"/>';var i={default:{url:o('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 18 24" width="18"><g fill="#fff" fill-rule="evenodd"><path d="M0 14.94V0l10.812 10.838H4.487l-.384.116z"/><path d="M8.474 15.568L5.111 17 .744 6.656l3.438-1.449z"/></g><g fill="#000023" fill-rule="evenodd"><path d="M7.23 14.933l-1.72.722-2.892-6.878 1.718-.723z"/><path d="M.933 2.245v10.437l2.77-2.674.399-.13h4.447z"/></g></svg>'),offsetX:0,offsetY:0},pointer:{url:o('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M9.444 17.57h6.817s2.844-6.964 2.452-7.797c-.392-.834-2.06-1.128-2.06-.442 0 .687 0 1.515-.098 1.324-.147-.245.098-2.403-.147-2.746-.343-.392-1.57-.343-1.765.05-.197.391-.3 1.825-.49 1.617-.14-.121-.08-1.726-.197-2.354-.637-.392-1.854-.397-2.354-.147-.333.167-.15 2.498-.358 2.55-.034.07.26-6.816-.427-7.16-.686-.343-2.353.197-2.353.49 0 .295.539 7.357.392 7.75-.49-.05-1.717-2.11-2.354-2.306-.638-.196-2.01.932-2.01 1.472 0 .54 2.598 3.236 2.647 3.727.05.49 2.06 3.972 2.305 3.972z" fill="#fff" fill-rule="evenodd" stroke="#000" stroke-width=".772" stroke-linecap="round" stroke-miterlimit="0"/></svg>'),offsetX:9,offsetY:2},none:{url:o(r),offsetX:0,offsetY:0}};window.navigator.userAgent.includes("Macintosh");var s=window.chrome&&!(!chrome.runtime||!chrome.runtime.id),c=window.top===window;"undefined"!=typeof globalThis&&globalThis,"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,"undefined"!=typeof global&&global;let a=null;function u(){return a||(a=new Promise((function(e){if(document.head)return void e();const t=document.documentElement,n=new MutationObserver((function(){document.head&&(e(),n.disconnect())}));n.observe(t,{childList:!0})}))),a}const d={"ALT+P":"key-pen","ALT+M":"key-mouse","ALT+E":"key-eraser","ALT+Z":"key-clear","ALT+F":"key-focus","ALT+T":"key-tools","ALT+W":"key-cam","ALT+C":"key-clock","ALT+K":"key-click"},l={27:"ESC",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};function f(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o.throw(e))}catch(t){i(t)}}function a(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,c)}a((o=o.apply(e,t||[])).next())}))}!function(e){const t={};for(const[n,o]of Object.entries(e))t[o]=n}(d);const p=window.crypto;class h{constructor(){if(c)throw new Error}post(e){this._wrapMessage(e).then((function(e){window.parent.postMessage(e,"*")}))}_wrapMessage(e){return f(this,void 0,void 0,(function*(){return{type:"castifyParentMsg",data:e}}))}}class w extends class{constructor(){this._listeners=new Map}_fire(e){for(const t of this._listeners.entries())t[0].call(t[1],e)}addListener(e,t){this._listeners.set(e,t)}removeListener(e){this._listeners.delete(e)}}{constructor(){super(),window.addEventListener("message",this._onMessage.bind(this))}_onMessage(e){Promise.resolve(this._unwrapMessage(e)).then(t=>{t&&(t.source=e.source,this._fire(t))})}_unwrapMessage(e){let t=e.data;return t&&"castifyParentMsg"===t.type?(e.stopImmediatePropagation(),e.stopPropagation(),t=t.data,t):null}}let m=null;function g(){return m||(m=new Promise((function(e,t){chrome.runtime.sendMessage({type:"castifyDrawGetMsgKey"},{},(function(n){"plain"===n?e(n):n?e(function(e){return p.subtle.importKey("jwk",e,{name:"AES-GCM"},!0,["encrypt","decrypt"])}(n)):t("getChromeKeyPromise failed")}))}))),m.catch((function(e){console.error("getChromeKeyPromise failed",e)})),m}const y=s?class extends h{constructor(){super(...arguments),this._encoder=new TextEncoder}_wrapMessage(e){const t=Object.create(null,{_wrapMessage:{get:()=>super._wrapMessage}});return f(this,void 0,void 0,(function*(){const n=this._encoder,o=yield g().then((function(t){return"plain"===t?e:function(e,t){const n=window.crypto.getRandomValues(new Uint8Array(16)),o=new Uint8Array(0);return p.subtle.encrypt({name:"AES-GCM",iv:n,additionalData:o,tagLength:128},t,e).then((function(e){return[n,o,e]}))}(n.encode(JSON.stringify(e)),t)}));return t._wrapMessage.call(this,o)}))}}:h,v=s?class extends w{constructor(){super(...arguments),this._decoder=new TextDecoder("utf8")}_unwrapMessage(e){return f(this,void 0,void 0,(function*(){const t=w.prototype._unwrapMessage(e);if(!t)return null;const n=this._decoder;return g().then((function(e){return"plain"===e?t:function(e,t){return p.subtle.decrypt({name:"AES-GCM",iv:e[0],additionalData:e[1],tagLength:128},t,e[2])}(t,e).then((function(e){return JSON.parse(n.decode(e))}))}))}))}}:w;class b extends y{}class k extends v{}new class{constructor(e,t){var n;this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov={token:(n={token:this,providedIn:t.providedIn||"root",factory:t.factory}).token,providedIn:n.providedIn||null,factory:n.factory,value:void 0})}toString(){return"InjectionToken "+this._desc}}("EventCapture");const M=window;M._castifyDrawInjected||(M._castifyDrawInjected=!0,function(){if(window.top===window)throw new Error("usage error: only inject this in frames");(function(e,t,n){const o=new Set(["mousedown","touchstart","mousemove","touchmove","mouseup","touchend"]);let r;const i=new k;c||(r=new b),n=n||d;const s=new WeakMap;function a(e){const t={type:e.type,isTouchDevice:!1};if(o.has(e.type)&&(t.x=e.x,t.y=e.y,e.targetCursor&&(t.targetCursor=e.targetCursor),e.isTouchDevice&&(t.isTouchDevice=e.isTouchDevice),e.touches)){t.touches=[];for(const n of e.touches)t.touches.push({clientX:n.clientX,clientY:n.clientY})}r.post({type:"event",data:t})}function u(e){window.top===window?(void 0).publish(e.type,e):a(e)}function f(e){if(e.touches&&e.touches.length){const t=e.touches[0];e.x=t.clientX,e.y=t.clientY}e.isTouchDevice=!(!e.sourceCapabilities||!e.sourceCapabilities.firesTouchEvents),function(e){const t=Date.now(),n=function(e,t,n){if(void 0===t||void 0===n)return e;let o=e;for(;e&&e.shadowRoot;){const r=e.shadowRoot.elementFromPoint(t,n);if(r===e)break;(e=r)&&(o=e)}return o}(e.target,e.x,e.y);if(e.target.tagName&&e.target.tagName.startsWith("castify-draw-container")||n.tagName&&n.tagName.startsWith("castify-draw-container"))e.targetCursor=n.style.cursor;else{if(s.has(n)){const o=s.get(n);t-o.timestamp<5e3&&(e.targetCursor=o.cursor)}if(!e.targetCursor){let o=null;o||n===document||(o=window.getComputedStyle(n).cursor),o||(o="default"),s.set(n,{cursor:o,timestamp:t}),e.targetCursor=o}}}(e),u(e)}function p(e){const t=n[function(e){const t=[];return e.altKey&&t.push("ALT"),e.ctrlKey&&t.push("CTRL"),e.shiftKey&&t.push("SHIFT"),t.push(l[e.keyCode]?l[e.keyCode]:String.fromCharCode(e.keyCode).toUpperCase()),t.join("+")}(e)];t&&(function(e,t=!0){e.stopImmediatePropagation(),e.stopPropagation(),!1!==t&&e.preventDefault()}(e),e.repeat||u({type:t}))}function h(e){return e.endsWith("px")?parseFloat(e.substr(0,e.length-2)):0}function w(e){const t=e.data,n=function(e){const t=document.querySelectorAll("iframe");for(const n of Array.from(t))if(n.contentWindow===e)return n;return null}(e.source);if(!n)return null;const o=n.getBoundingClientRect(),r=window.getComputedStyle(n),i=h(r.paddingLeft)+h(r.borderLeftWidth)+o.left,s=h(r.paddingTop)+h(r.borderTopWidth)+o.top;t.x+=i,t.y+=s,t.touches&&t.touches.forEach((function(e){e.clientX+=i,e.clientY+=s})),window.top===window?(void 0).publish(t.type,t):a(t)}return{start(){for(const e of o)window.addEventListener(e,f,!0);Object.keys(n).length&&window.addEventListener("keydown",p,!0),i&&i.addListener(w)},dispose(){for(const e of o)window.removeEventListener(e,f,!0)}}})().start(),function(){if(c)throw new Error;const e={};let t=!1;const n=function(){const e={};let t=null,n=!1;return e.enable=function(){n||(n=!0,t||(t=document.createElement("style"),t.appendChild(document.createTextNode('\nhtml * {\n  cursor: {{default}} !important;\n}\nhtml /deep/ * {\n  cursor: inherit !important;\n}\n\nhtml /deep/ input,\nhtml /deep/ textarea {\n cursor: {{text}} !important;\n}\n\nhtml,\nhtml /deep/ input[type="button" i],\nhtml /deep/ input[type="submit" i],\nhtml /deep/ input[type="reset" i],\nhtml /deep/ input[type="file" i]::-webkit-file-upload-button,\nhtml /deep/ button,\nhtml /deep/ select,\nhtml /deep/ label,\nhtml /deep/ input::-webkit-inner-spin-button {\n  cursor: {{default}} !important;\n}\n\nhtml /deep/ a:-webkit-any-link,\nhtml /deep/ a:-webkit-any-link *,\nhtml /deep/ area {\n cursor: {{pointer}} !important;\n}\n'.replace(/{{([^}]+)}}/g,(function(e,t){const n=i.none;return`${n.url} ${n.offsetX} ${n.offsetY}, ${t}`}))))),u().then((function(){const e=document.head;e.contains(t)||e.insertBefore(t,e.firstElementChild)})))},e.disable=function(){n&&(n=!1,u().then((function(){t&&document.head.contains(t)&&document.head.removeChild(t)})))},e}();function o(e){return e&&"castifyDrawCursorService"===e.type&&(e.data?n.enable():n.disable()),!1}return e.start=function(){t||(chrome.runtime.onMessage.addListener(o),t=!0)},e.stop=function(){t&&(t=!1,chrome.runtime.onMessage.removeListener(o),n.disable())},e}().start()}())},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,1]]]);